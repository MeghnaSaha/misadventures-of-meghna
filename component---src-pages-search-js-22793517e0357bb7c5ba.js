(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{Bxyr:function(e,t,n){"use strict";n.r(t),n.d(t,"PageQuery",(function(){return _}));n("OG14");var r=n("q1tI"),i=n.n(r),a=n("Bl7J"),o=(n("V+eJ"),n("hHhE"),n("a1Th"),n("h7Nl"),n("HAE/"),n("bWfx"),n("KKXr"),n("0l/t"),n("Vd3H"),n("rGqo"),n("yt8O"),n("Btvt"),n("RW0V"),n("Tze0"),function(){function e(){}return e.prototype.expandToken=function(e){for(var t=[],n="",r=0,i=e.length;r<i;++r)n+=e.charAt(r),t.push(n);return t},e}()),c=function(){function e(){}return e.prototype.sanitize=function(e){return e?e.toLocaleLowerCase().trim():""},e}();function u(e,t){t=t||[];for(var n=e=e||{},r=0;r<t.length;r++)if(null==(n=n[t[r]]))return null;return n}var s=function(){function e(e){this._uidFieldName=e,this._tokenToIdfCache={},this._tokenMap={}}var t=e.prototype;return t.indexDocument=function(e,t,n){this._tokenToIdfCache={};var r,i=this._tokenMap;"object"!=typeof i[e]?i[e]=r={$numDocumentOccurrences:0,$totalNumOccurrences:1,$uidMap:{}}:(r=i[e]).$totalNumOccurrences++;var a=r.$uidMap;"object"!=typeof a[t]?(r.$numDocumentOccurrences++,a[t]={$document:n,$numTokenOccurrences:1}):a[t].$numTokenOccurrences++},t.search=function(e,t){for(var n={},r=0,i=e.length;r<i;r++){var a=e[r],o=this._tokenMap[a];if(!o)return[];if(0===r)for(var c=0,u=(s=Object.keys(o.$uidMap)).length;c<u;c++){n[l=s[c]]=o.$uidMap[l].$document}else{var s;for(c=0,u=(s=Object.keys(n)).length;c<u;c++){var l=s[c];"object"!=typeof o.$uidMap[l]&&delete n[l]}}}var d=[];for(var l in n)d.push(n[l]);var h=this._createCalculateTfIdf();return d.sort((function(n,r){return h(e,r,t)-h(e,n,t)}))},t._createCalculateIdf=function(){var e=this._tokenMap,t=this._tokenToIdfCache;return function(n,r){if(!t[n]){var i=void 0!==e[n]?e[n].$numDocumentOccurrences:0;t[n]=1+Math.log(r.length/(1+i))}return t[n]}},t._createCalculateTfIdf=function(){var e=this._tokenMap,t=this._uidFieldName,n=this._createCalculateIdf();return function(r,i,a){for(var o=0,c=0,s=r.length;c<s;++c){var l,d=r[c],h=n(d,a);h===1/0&&(h=0),l=t instanceof Array?i&&u(i,t):i&&i[t],o+=(void 0!==e[d]&&void 0!==e[d].$uidMap[l]?e[d].$uidMap[l].$numTokenOccurrences:0)*h}return o}},e}(),l=/[^a-zа-яё0-9\-']+/i,d=function(){function e(){}return e.prototype.tokenize=function(e){return e.split(l).filter((function(e){return e}))},e}();function h(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var f=function(){function e(e){if(!e)throw Error("js-search requires a uid field name constructor parameter");this._uidFieldName=e,this._indexStrategy=new o,this._searchIndex=new s(e),this._sanitizer=new c,this._tokenizer=new d,this._documents=[],this._searchableFields=[]}var t,n,r,i=e.prototype;return i.addDocument=function(e){this.addDocuments([e])},i.addDocuments=function(e){this._documents=this._documents.concat(e),this.indexDocuments_(e,this._searchableFields)},i.addIndex=function(e){this._searchableFields.push(e),this.indexDocuments_(this._documents,[e])},i.search=function(e){var t=this._tokenizer.tokenize(this._sanitizer.sanitize(e));return this._searchIndex.search(t,this._documents)},i.indexDocuments_=function(e,t){this._initialized=!0;for(var n=this._indexStrategy,r=this._sanitizer,i=this._searchIndex,a=this._tokenizer,o=this._uidFieldName,c=0,s=e.length;c<s;c++){var l,d=e[c];l=o instanceof Array?u(d,o):d[o];for(var h=0,f=t.length;h<f;h++){var m,p=t[h];if(null!=(m=p instanceof Array?u(d,p):d[p])&&"string"!=typeof m&&m.toString&&(m=m.toString()),"string"==typeof m)for(var v=a.tokenize(r.sanitize(m)),_=0,k=v.length;_<k;_++)for(var g=v[_],y=n.expandToken(g),z=0,x=y.length;z<x;z++){var b=y[z];i.indexDocument(b,l,d)}}}},t=e,(n=[{key:"indexStrategy",set:function(e){if(this._initialized)throw Error("IIndexStrategy cannot be set after initialization");this._indexStrategy=e},get:function(){return this._indexStrategy}},{key:"sanitizer",set:function(e){if(this._initialized)throw Error("ISanitizer cannot be set after initialization");this._sanitizer=e},get:function(){return this._sanitizer}},{key:"searchIndex",set:function(e){if(this._initialized)throw Error("ISearchIndex cannot be set after initialization");this._searchIndex=e},get:function(){return this._searchIndex}},{key:"tokenizer",set:function(e){if(this._initialized)throw Error("ITokenizer cannot be set after initialization");this._tokenizer=e},get:function(){return this._tokenizer}}])&&h(t.prototype,n),r&&h(t,r),e}(),m=n("Wbzz"),p=n("QiaT"),v=n.n(p),_="502301024";t.default=function(e){var t=e.data,n=Object(r.useState)(t.allMarkdownRemark.edges),u=n[0],l=(n[1],Object(r.useState)("")),d=l[0],h=l[1],p=Object(r.useState)([]),_=p[0],k=p[1],g=Object(r.useState)([]),y=g[0],z=g[1];Object(r.useEffect)((function(){x()}),[]);var x=function(){var e=new f(["node","id"]);e.indexStrategy=new o,e.sanitizer=new c,e.searchIndex=new s,e.addIndex(["node","frontmatter","title"]),e.addIndex(["node","html"]),e.addDocuments(u),console.log(e),k(e)},b=""===d?u:y;return i.a.createElement(a.a,null,i.a.createElement("div",{className:v.a.container},i.a.createElement("h2",null,"A little picky today, are we?"),i.a.createElement("form",{onSubmit:function(e){e.preventDefault()}},i.a.createElement("input",{id:"Search",value:d,onChange:function(e){var t=_.search(e.target.value);h(e.target.value),z(t)},placeholder:"Enter your search here",className:v.a.searchBar})),i.a.createElement("hr",null),i.a.createElement("div",null," Number of posts found: ",b.length),i.a.createElement("div",{className:v.a.postsContainer},b.map((function(e){return i.a.createElement("div",{key:e.node.id,className:v.a.postPreview},i.a.createElement("h3",null,e.node.frontmatter.title),i.a.createElement("em",null,"Posted on ",e.node.frontmatter.date),i.a.createElement("hr",null),i.a.createElement("p",null,e.node.excerpt," ",i.a.createElement(m.Link,{to:e.node.frontmatter.path},"Read more")))})))))}},QiaT:function(e,t,n){e.exports={container:"search-module--container--3j9LR",searchBar:"search-module--searchBar--2utLe",postsContainer:"search-module--postsContainer--1KCuO",postPreview:"search-module--postPreview--TwqKj"}},Tze0:function(e,t,n){"use strict";n("qncB")("trim",(function(e){return function(){return e(this,3)}}))}}]);
//# sourceMappingURL=component---src-pages-search-js-22793517e0357bb7c5ba.js.map